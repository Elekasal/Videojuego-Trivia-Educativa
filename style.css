/* ==========================================================
   Estilos V4 (Responsive + Accesibilidad)
   - Tipografía y paddings fluidos
   - Lotties responsivas
   - Tabla con scroll en móvil (sin perder columnas)
   ========================================================== */

:root{
  --primary: #1e90ff;
  --secondary:#f59e0b;
  --accent:#ef4444;
  --bg:#eef8f6;

  /* Tipografía fluida */
  --fs-base: clamp(14px, 2.2vw, 18px);
  --fs-sm: clamp(12px, 1.9vw, 16px);
  --fs-lg: clamp(16px, 2.6vw, 20px);
  --radius: 12px;
  --shadow-1: 0 6px 16px rgba(0,0,0,.08);
  --shadow-2: 0 10px 24px rgba(0,0,0,.06);
  --shadow-3: 0 20px 60px rgba(0,0,0,.20);
}

*{ box-sizing:border-box; }
html, body { height: 100%; }
body{
  font-family: 'Nunito', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  font-size: var(--fs-base);
  line-height: 1.45;
  background: var(--bg);
  color:#222;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.app-container{
  max-width: 980px;
  margin:0 auto;
  padding: 24px;
}

/* ------------------ Botones ------------------ */
.btn{
  background: linear-gradient(to right, var(--primary), #00b4d8);
  border:none; cursor:pointer;
  padding: 10px 16px; border-radius: var(--radius);
  box-shadow: var(--shadow-1);
  transition: transform .06s ease, box-shadow .2s ease;
  font-weight: 700;
  color:#fff;
  font-size: var(--fs-base);
}
.btn:hover{ transform: translateY(-1px); box-shadow: 0 10px 20px rgba(0,0,0,.12); }
.btn:active{ transform: translateY(0); }
.btn:focus-visible{ outline: 3px solid #93c5fd; outline-offset: 2px; }

.menu-btn{ width:100%; padding:18px; }
.trivia-btn{ background: linear-gradient(to right, var(--primary), #38bdf8); }
.scores-btn{ background: linear-gradient(to right, #16a34a, #22c55e); }
.logout-btn{
  margin-top:16px;
  background: linear-gradient(to right, #6b7280, #9ca3af);
  display:inline-flex; align-items:center; gap:.5rem; padding:10px 14px;
}

/* ------------------ Contenedores ------------------ */
.login-container, .signup-container, .menu-container,
.trivia-container, .score-container, .modal{
  background: transparent;
}

.question-card{
  background:#fff; border-radius:16px; padding:20px;
  box-shadow: var(--shadow-2);
  margin-top: 16px;
}

/* ------------------ Progreso ------------------ */
.progress-bar{
  height:10px; background:#e5e7eb; border-radius:10px; overflow:hidden;
}
.progress-bar-fill{
  height:100%;
  background: linear-gradient(to right, var(--primary), #38bdf8);
  width:0%;
  transition: width .25s ease;
}

/* ------------------ Respuestas ------------------ */
.answer-btn{
  width:100%; text-align:left; padding:12px 14px; margin-bottom:10px;
  border-radius:12px; background:#f8fafc; border:1px solid #e5e7eb;
  font-size: var(--fs-base);
  line-height: 1.35;
  touch-action: manipulation;
}
.answer-btn:hover{ background:#eef2ff; }
.answer-btn:focus-visible{ outline: 3px solid #c7d2fe; }

/* Feedback correcto/incorrecto */
.answer-btn.is-correct{
  background:#ecfdf5;
  border-color:#86efac;
  box-shadow: inset 0 0 0 2px #22c55e33;
}
.answer-btn.is-wrong{
  background:#fef2f2;
  border-color:#fecaca;
  box-shadow: inset 0 0 0 2px #ef444433;
}

/* ------------------ Tabla de puntajes ------------------ */
.score-container{
  /* clave para móvil: scroll horizontal si hace falta */
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

.score-table{
  width:100%;
  border-collapse: collapse;
  background:#fff;
  border-radius: 12px;
  overflow:hidden;
  box-shadow: var(--shadow-2);
  /* Ancho mínimo para que no se aplaste en móviles */
  min-width: 720px;
}

.score-table thead th{
  background:#f59e0b; color:#fff;
  font-weight: 800;
  font-size: var(--fs-sm);
}

.score-table th, .score-table td{
  padding:12px 10px;
  border-bottom:1px solid #eee;
  text-align:left;
  white-space: nowrap;
  font-size: var(--fs-base);
}

.score-table tr:last-child td{ border-bottom:none; }

.score-table .delete-row{
  color:#444; background:#fff; border:1px solid #ddd; padding:6px 10px; border-radius:8px;
  cursor:pointer;
}
.score-table .delete-row:hover{ background:#f8fafc; }
#no-scores-message{ color:#64748b; }

/* ------------------ Modal ciclo ------------------ */
.modal{
  position:fixed; inset:0;
  background:rgba(0,0,0,.35);
  display:flex; align-items:center; justify-content:center;
  padding: 12px;
}
.modal.hidden{ display:none; }

.modal .modal-content{
  background:#fff; border-radius:16px; padding:24px; width:min(560px, 92vw);
  box-shadow: var(--shadow-3);
}

/* ------------------ Lottie containers ------------------ */
.lottie-container{ display:flex; align-items:center; justify-content:center; margin:auto; }
.lottie-sm{ width:160px; height:160px; }
.lottie-md{ width:220px; height:220px; }

/* ------------------ Animaciones de entrada ------------------ */
.fade-in{ animation: fadeIn .25s ease; }
@keyframes fadeIn{
  from{ opacity:0; transform: translateY(4px); }
  to{ opacity:1; transform:none; }
}
.hidden{ display:none; }

/* ------------------ Preferencias de movimiento ------------------ */
@media (prefers-reduced-motion: reduce) {
  .fade-in{ animation: none; }
  .btn{ transition: none; }
  .progress-bar-fill{ transition: none; }
}

/* ==========================================================
   BREAKPOINTS / RESPONSIVE
   - xs: ≤360px
   - sm: ≤480px
   - md: ≤640px
   - lg: 641–1024px
   - xl: ≥1280px
   ========================================================== */

/* <= 640px (md y abajo): móvil vertical común */
@media (max-width: 640px){
  .app-container{ padding: 14px; }
  .question-card{ padding: 14px; }
  .btn{ padding: 12px 14px; }
  .menu-btn{ padding: 16px; }
  .answer-btn{ padding: 12px; font-size: var(--fs-base); }
  .progress-bar{ height: 8px; }

  /* Lotties más chicas en móvil */
  .lottie-md{ width: 180px; height: 180px; }
  .lottie-sm{ width: 130px; height: 130px; }

  .modal .modal-content{
    width: 96vw;
    padding: 18px;
  }
}

/* <= 480px (sm): móviles chicos */
@media (max-width: 480px){
  .app-container{ padding: 12px; }
  .btn{ font-size: var(--fs-sm); }
  .answer-btn{ font-size: var(--fs-sm); }
  .lottie-md{ width: 160px; height: 160px; }
  .lottie-sm{ width: 120px; height: 120px; }
}

/* <= 360px (xs): móviles muy pequeños */
@media (max-width: 360px){
  .app-container{ padding: 10px; }
  .question-card{ padding: 12px; }
  .score-table{ min-width: 680px; } /* un poquito menos si hace falta */
}

/* 641px–1024px (tablets y pantallas medianas) */
@media (min-width: 641px) and (max-width: 1024px){
  .app-container{ max-width: 920px; }
  .lottie-md{ width: 220px; height: 220px; }
  .lottie-sm{ width: 150px; height: 150px; }
}

/* >= 1280px (desktop grandes) */
@media (min-width: 1280px){
  .app-container{ max-width: 1100px; }
  .lottie-md{ width: 260px; height: 260px; }
  .lottie-sm{ width: 180px; height: 180px; }
}
